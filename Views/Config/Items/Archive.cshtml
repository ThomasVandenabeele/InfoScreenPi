@using InfoScreenPi.Entities
@model List<Item>
<table class="table table-striped table-hover">
        <tr>
            <th style="display:none;">Id</th>
            <th width="10px"></th>
            <th>Titel</th> 
            <th width="100px">Achtergrond</th>
            <th>Inhoud</th>
            <th width="5px"></th>
        </tr>
        @{
            int index = 1;
            foreach(Item i in Model)
            {
                <tr>
                    <td style="display:none;">@i.Id</td>
                    <td>@index</td>
                    <td><b>@i.Title</b></td>
                    <td>
                        @{
                            string url = "";
                            string thumb = "";
                            if(i.Background.Url.StartsWith("http://"))
                            {
                                url = i.Background.Url;
                                thumb = url;
                            }
                            else
                            {
                                url = "images/backgrounds/" + i.Background.Url;
                                thumb = "images/backgrounds/thumbnails/" + i.Background.Url;
                            }
                        }
                        <a href="@url" target="new" ><img src="@thumb" width="100px" /></a>
                    </td>
                    <td>
                        @{
                            string content = "", content2 = "";
                            if(i.Content != null){
                                content = System.Text.RegularExpressions.Regex.Replace(i.Content, "<.*?>", String.Empty);
                                content2 = System.Text.RegularExpressions.Regex.Replace(content, "&.*?;", " ");
                            }
                        }
                        @content2
                    </td>
                    <td><span style="font-size:2em;" class="glyphicon glyphicon-level-up activateItem spanLink" aria-hidden="true"></span></td>
                </tr>
                index++;
            }
        }
</table>