@using InfoScreenPi.Entities
@model List<Item>
<table class="table table-striped table-hover">
        <tr>
            <th style="display:none;">Id</th>
            <th width="10px"></th>
            <th width="200px">Titel</th> 
            <th width="100px">Achtergrond</th>
            <th>Inhoud</th>
            <th width="50px">Actief</th>
            <th width="5px"></th>
            <th width="5px"></th>
        </tr>
        @{
            int index = 1;
            foreach(Item i in Model)
            {
                <tr>
                    <td style="display:none;">@i.Id</td>
                    <td>@index</td>
                    <td><b>@i.Title</b></td>
                    <td>
                        @{
                            string url = "";
                            if(i.Background.Url.StartsWith("http://"))
                            {
                                url = i.Background.Url;
                            }
                            else
                            {
                                //url = "images/backgrounds/thumbnails/" + i.Background.Url;
                                url = "images/backgrounds/" + i.Background.Url;
                            }
                        }
                        <a href="@url" target="new" ><img src="@url" width="100px" /></a>
                    </td>
                    <td>@{
                            string content = "", content2 = "";
                            if(i.Content != null){
                                content = System.Text.RegularExpressions.Regex.Replace(i.Content, "&.*?;", " ");
                                content2 = System.Text.RegularExpressions.Regex.Replace(content, "<.*?>", " ");
                            }
                        }
                        @content2
                    </td>
                    <td>
                        @if(i.Active){
                            <input type="checkbox" class="stateCheckItems" checked data-toggle="toggle" data-style="ios" data-size="mini" data-on="Actief" data-off="Inactief"data-onstyle="success" data-offstyle="danger">
                        }
                        else
                        {
                            <input type="checkbox" class="stateCheckItems" data-toggle="toggle" data-style="ios" data-size="mini" data-on="Actief" data-off="Inactief"data-onstyle="success" data-offstyle="danger">
                        }
                    </td>
                    <td><span class="glyphicon glyphicon-trash verwijder spanLink" aria-hidden="true" title="Verwijder '@i.Title'"></span></td>
                    <td><span class="glyphicon glyphicon-pencil wijzigItem spanLink" aria-hidden="true" title="Wijzig '@i.Title'"></span></td>
                </tr>
                index++;
            }
        }
    </table>